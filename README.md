# Документация на проекта "Vacation Manager"

## 1. Въведение
Проектът "Vacation Manager" е уеб приложение, разработено с ASP.NET Core MVC, което позволява управление на заявките за отпуск на служители в една организация. Системата цели да улесни процеса по подаване, одобрение и проследяване на отпуските, както и управлението на екипи и проекти.

## 2. Модели

### 2.1 User (Потребител)
- **Описание**: Моделът представлява информация за потребителите на системата (служители). Наследява `IdentityUser` за нуждите на автентикация и авторизация.
- **Свойства**:
  - `Id`: Уникален идентификатор на потребителя (наследен от IdentityUser).
  - `UserName`, `Email`, `PasswordHash`, etc.: Стандартни свойства от IdentityUser.
  - `FirstName`: Име на потребителя (string, задължително).
  - `LastName`: Фамилно име на потребителя (string, задължително).
  - `TeamId`: Идентификатор на екипа, към който принадлежи потребителя (int, nullable).
  - `Team`: Навигационно свойство към модела `Team` (Team, nullable).
  - `LedTeamId`: Идентификатор на екипа, който потребителят ръководи (int, nullable).
  - `LedTeam`: Навигационно свойство към ръководения екип (Team, nullable).
  - `RequestedVacations`: Колекция от заявки за отпуск, подадени от потребителя (ICollection<VacationRequest>, nullable).
  - `ApprovedVacations`: Колекция от заявки за отпуск, одобрени от потребителя (ако е мениджър/одобрител) (ICollection<VacationRequest>, nullable).

### 2.2 Team (Екип)
- **Описание**: Моделът представлява информация за екипите в организацията.
- **Свойства**:
  - `TeamId`: Уникален идентификатор на екипа (int).
  - `TeamName`: Име на екипа (string, задължително).
  - `ProjectId`: Идентификатор на проекта, по който работи екипът (int, nullable).
  - `Project`: Навигационно свойство към модела `Project` (Project, nullable).
  - `TeamLeaderId`: Идентификатор на потребителя, който е лидер на екипа (string, nullable).
  - `TeamLeader`: Навигационно свойство към лидера на екипа (User, nullable).
  - `Members`: Колекция от потребители, които са членове на екипа (ICollection<User>).

### 2.3 Project (Проект)
- **Описание**: Моделът представлява информация за проектите.
- **Свойства**:
  - `ProjectId`: Уникален идентификатор на проекта (int).
  - `ProjectName`: Име на проекта (string, задължително).
  - `ProjectDescription`: Описание на проекта (string, задължително).
  - `Teams`: Колекция от екипи, работещи по проекта (ICollection<Team>, nullable).

### 2.4 VacationRequest (Заявка за отпуск)
- **Описание**: Моделът представлява заявка за отпуск, подадена от служител.
- **Свойства**:
  - `RequestId`: Уникален идентификатор на заявката (int).
  - `StartDate`: Начална дата на отпуска (DateTime, задължително).
  - `EndDate`: Крайна дата на отпуска (DateTime, задължително).
  - `CreationDate`: Дата на създаване на заявката (DateTime, задължително).
  - `HalfDay`: Дали заявката е за половин ден (bool).
  - `Approved`: Статус на одобрение на заявката (bool).
  - `RequesterId`: Идентификатор на потребителя, подал заявката (string, задължително).
  - `Requester`: Навигационно свойство към потребителя, подал заявката (User, задължително).
  - `RequestType`: Тип на заявката (enum: Paid, Unpaid, Sick; задължително).
  - `ApproverId`: Идентификатор на потребителя, одобрил/отхвърлил заявката (string, nullable).
  - `Approver`: Навигационно свойство към одобряващия потребител (User, nullable).
  - `AttachmentFilePath`: Път до прикачен файл (напр. болничен лист) (string, nullable).

## 3. Основни функции
- Регистрация и управление на потребители (служители).
- Управление на екипи и назначаване на лидери.
- Управление на проекти и асоцииране с екипи.
- Създаване, преглеждане, одобряване/отхвърляне на заявки за отпуск.
- Прикачане на документи към заявки (напр. за болничен).
- **Authentication и Authorization:** Система за удостоверяване и авторизация на потребители.

## 4. Authentication и Authorization
- **Authentication**: Потребителите трябва да се удостоверят (login) със своите потребителски имена и пароли, за да получат достъп до системата. Използва се ASP.NET Core Identity.
- **Authorization**: Системата използва ролеви модел за авторизация, за да определи какви действия може да извършва всеки потребител. Дефинирани роли в системата:
  - **CEO**: Вероятно има пълен достъп до всички функции - управление на потребители, роли, екипи, проекти и всички заявки за отпуск, подобно на администратор.
  - **Team Lead**: Лидерът на екип може да управлява своя екип, да одобрява/отхвърля заявки на членовете на екипа си и вероятно да управлява проекти, по които работи екипът му.
  - **Developer**: Обикновеният потребител (служител/разработчик) може да подава заявки за отпуск, да преглежда своите заявки и информация за екипа/проекта си.
  - **Unassigned**: Потребител без назначена роля или екип. Вероятно има ограничени права, може би само за преглед или изобщо няма достъп до основните функции, докато не му бъде присвоена роля.

## 5. Използвани технологии
- **[ASP.NET Core MVC]**: Рамка за разработка на уеб приложения.
- **[C#]**: Основен език за програмиране.
- **[Entity Framework Core]**: ORM за работа с базата данни.
- **[ASP.NET Core Identity]**: За автентикация и управление на потребители/роли.
- **[HTML]**: За структура на уеб страниците.
- **[CSS]**: За стилизиране на уеб страниците (вероятно с Bootstrap или друга рамка).
- **[JavaScript]**: За клиентска интерактивност.
- **[База данни]**: Релационна база данни (напр. MS SQL Server, PostgreSQL, SQLite - зависи от конфигурацията).
- **[NuGet]**: За управление на пакети и зависимости.
